"use strict";(self.webpackChunkrobo_js_docs=self.webpackChunkrobo_js_docs||[]).push([[5799],{7321:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>d});var s=o(4848),r=o(8453),t=o(9520);const i={image:"https://preview.robojs.dev?path=/hosting/self-host"},l="\ud83d\udd28 Self-hosting",a={id:"hosting/self-host",title:"\ud83d\udd28 Self-hosting",description:"Robo.js can be self-hosted, meaning you can run your own instance of Robo.js on your own server.",source:"@site/docs/hosting/self-host.mdx",sourceDirName:"hosting",slug:"/hosting/self-host",permalink:"/hosting/self-host",draft:!1,unlisted:!1,editUrl:"https://github.com/Wave-Play/robo.js/edit/main/docs/docs/hosting/self-host.mdx",tags:[],version:"current",lastUpdatedBy:"Pkmmte Xeleon",lastUpdatedAt:1719205204e3,frontMatter:{image:"https://preview.robojs.dev?path=/hosting/self-host"},sidebar:"tutorialSidebar",previous:{title:"\ud83d\ude80 RoboPlay",permalink:"/hosting/roboplay"},next:{title:"\u2728 Robo Plugins",permalink:"/plugins/overview"}},c={},d=[{value:"Running",id:"running",level:2},{value:"Install dependencies",id:"install-dependencies",level:3},{value:"Build for production",id:"build-for-production",level:3},{value:"Set environment variables",id:"set-environment-variables",level:3},{value:"Start in production mode",id:"start-in-production-mode",level:3},{value:"Extra tidbits",id:"extra-tidbits",level:2},{value:"CDN",id:"cdn",level:3},{value:"Logs",id:"logs",level:3},{value:"Recovery",id:"recovery",level:3},{value:"TLS",id:"tls",level:3}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",strong:"strong",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"-self-hosting",children:"\ud83d\udd28 Self-hosting"}),"\n",(0,s.jsx)(n.p,{children:"Robo.js can be self-hosted, meaning you can run your own instance of Robo.js on your own server."}),"\n",(0,s.jsxs)(n.p,{children:["This is great for those who want to have full control over their projects, or for those who want to run Robo.js in a private environment isolated from civilization. Before you can self-host Robo.js, you'll need ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://nodejs.org",children:"Node.js"})})," v20 or newer installed on your server."]}),"\n",(0,s.jsxs)(n.p,{children:["Feeling overwhelmed? ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"./roboplay",children:"Deploy with one command on RoboPlay"})}),", a hosting service made for Robo.js projects!"]}),"\n",(0,s.jsx)(n.h2,{id:"running",children:"Running"}),"\n",(0,s.jsx)(n.h3,{id:"install-dependencies",children:"Install dependencies"}),"\n",(0,s.jsx)(n.p,{children:"Make sure you have all the necessary dependencies installed."}),"\n",(0,s.jsx)(t.B,{install:!0}),"\n",(0,s.jsx)(n.h3,{id:"build-for-production",children:"Build for production"}),"\n",(0,s.jsxs)(n.p,{children:["Some hosts might need you to run ",(0,s.jsx)(n.code,{children:"robo build"})," before or after uploading your code. This step compiles your source code into an optimized production format, especially important for TypeScript users."]}),"\n",(0,s.jsx)(t.B,{execute:!0,children:"robo build"}),"\n",(0,s.jsx)(n.p,{children:"This command will compile your Robo.js project into a production-ready format, making it easier to run on your server."}),"\n",(0,s.jsx)(n.h3,{id:"set-environment-variables",children:"Set environment variables"}),"\n",(0,s.jsxs)(n.p,{children:["Before starting your Robo, make sure you have all the necessary environment variables set up on your server. Check out the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/basics/secrets",children:"Secrets"})})," page for more info. You'll need to set ",(0,s.jsx)(n.code,{children:"NODE_ENV"})," to ",(0,s.jsx)(n.code,{children:'"production"'})," to run your Robo in production mode."]}),"\n",(0,s.jsx)(n.h3,{id:"start-in-production-mode",children:"Start in production mode"}),"\n",(0,s.jsx)(n.p,{children:"Once you've built your project, you can start your Robo.js server with the following command:"}),"\n",(0,s.jsx)(t.B,{execute:!0,children:"robo start"}),"\n",(0,s.jsx)(n.p,{children:"This will start your Robo.js server, making it accessible to the world."}),"\n",(0,s.jsx)(n.h2,{id:"extra-tidbits",children:"Extra tidbits"}),"\n",(0,s.jsxs)(n.p,{children:["Unlike ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"./roboplay",children:"Hosting on RoboPlay"})}),", self-hosting your Robo.js project means you're responsible for keeping your server up and running. Make sure you have the necessary resources and knowledge to maintain your server before self-hosting your Robo.js project."]}),"\n",(0,s.jsx)(n.p,{children:"The following are things that are already set up for you when you host on RoboPlay, but good to know when self-hosting."}),"\n",(0,s.jsx)(n.h3,{id:"cdn",children:"CDN"}),"\n",(0,s.jsxs)(n.p,{children:["We recommend using a CDN like ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://www.cloudflare.com/",children:"Cloudflare"})})," to cache your assets. This will help speed up and reduce the load on your server."]}),"\n",(0,s.jsx)(n.h3,{id:"logs",children:"Logs"}),"\n",(0,s.jsxs)(n.p,{children:["Logs are essential for debugging issues in production. The Robo.js ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/docs/advanced/logger",children:"Logger"})})," will write logs to stdout by default, but you can configure it to write to a file or a logging service via custom drains."]}),"\n",(0,s.jsxs)(n.p,{children:["We recommend using a service like ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://betterstack.com/logs",children:"Better Stack"})})," to collect and analyze your logs. We even have the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://github.com/Wave-Play/robo.js/tree/main/packages/plugin-better-stack",children:(0,s.jsx)(n.code,{children:"@robojs/better-stack"})})})," plugin to make it easier to integrate."]}),"\n",(0,s.jsx)(n.h3,{id:"recovery",children:"Recovery"}),"\n",(0,s.jsxs)(n.p,{children:["Unlike ",(0,s.jsx)(n.code,{children:"robo dev"}),", ",(0,s.jsx)(n.code,{children:"robo start"})," will not automatically restart your Robo if it crashes. You'll need to set up a process manager like ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://pm2.keymetrics.io/",children:"PM2"})})," to keep your Robo running in the background."]}),"\n",(0,s.jsx)(n.h3,{id:"tls",children:"TLS"}),"\n",(0,s.jsxs)(n.p,{children:["Don't forget to create and ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://letsencrypt.org/",children:"set up a TLS certificate"})})," if you plan to serve your Robo over HTTPS. This is especially important if you're using a custom domain."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},9520:(e,n,o)=>{o.d(n,{B:()=>j});var s=o(9165),r=o(5996),t=o.n(r),i=o(6540),l=o(4848);const a=e=>{const{defaultValue:n,onSelect:o,options:r}=e,[a,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(n??r[0]);(0,i.useEffect)((()=>{u(n??r[0])}),[n,r]);const h=e=>()=>{u(e),o(e),c(!1)};return(0,l.jsxs)("div",{className:"select-container",children:[(0,l.jsxs)("button",{className:"select-row",onClick:()=>{c(!a)},children:[(0,l.jsx)("span",{className:"select-text no-margin",children:d.label}),(0,l.jsx)(t(),{path:a?s.Fb5:s.W5x,size:"16px",color:"rgb(161, 161, 161)"})]}),a&&(0,l.jsx)("menu",{className:"select-menu",children:r.map((e=>(0,l.jsx)("button",{className:e.value===d.value?"select-menu-active":void 0,onClick:h(e),children:e.label},e.value)))})]})};var c=o(7965),d=o.n(c);var u=o(2035),h=o(4843);const p=(0,u.eU)("npm");const m=[{label:"NPM",value:"npm"},{label:"Yarn",value:"yarn"},{label:"PNPM",value:"pnpm"}],j=e=>{const{children:n,create:o,execute:r,install:i,title:c="Terminal"}=e,[u]=[async e=>d()(e)],[j,g]=function(){const[e,n]=(0,h.fp)(p);return[e,n]}(),x=m.find((e=>e.value===j));let b=n;"string"==typeof b&&(b=b.trim());let v="";o?v=function(e){if("npm"===e)return"npx create-robo";if("yarn"===e)return"yarn create robo";if("pnpm"===e)return"pnpm create robo"}(x.value)+" ":r?v=function(e){if("npm"===e)return"npx";if("yarn"===e)return"yarn";if("pnpm"===e)return"pnpm";if("bun"===e)return"bun"}(x.value)+" ":i&&b?v=function(e){if("npm"===e)return"npm install";if("yarn"===e)return"yarn add";if("pnpm"===e)return"pnpm add";if("bun"===e)return"bun add"}(x.value)+" ":i&&(v=x.value+" install");return(0,l.jsxs)("div",{className:"margin-bottom--lg terminal",children:[(0,l.jsxs)("div",{className:"terminal-header",children:[(0,l.jsx)(t(),{path:s.w_i,size:"16px",color:"rgb(161, 161, 161)"}),(0,l.jsx)("span",{className:"terminal-header-text",children:c}),(0,l.jsx)("div",{className:"spacer"}),(0,l.jsx)(a,{defaultValue:x,onSelect:e=>{console.log(e),g(e.value)},options:m}),(0,l.jsx)("button",{onClick:()=>{u(v+b)},children:(0,l.jsx)(t(),{path:s.$BT,size:"20px",color:"rgb(161, 161, 161)"})})]}),(0,l.jsx)("pre",{className:"prism-code language-bash codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar terminal-bg",children:(0,l.jsx)("code",{className:"codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module",children:(0,l.jsx)("span",{className:"token-line",children:o||r||i?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"token plain",children:v}),(0,l.jsx)("strong",{children:(0,l.jsx)("span",{className:"token plain",children:b})})]}):(0,l.jsx)("span",{className:"token plain",children:b})})})})]})}}}]);