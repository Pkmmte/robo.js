/*! For license information please see 3269a7d6.90af8e19.js.LICENSE.txt */
"use strict";(self.webpackChunkrobo_js_docs=self.webpackChunkrobo_js_docs||[]).push([[5206],{4719:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>t,toc:()=>g});var r=o(5893),s=o(1151);const i={image:"https://preview.robojs.dev?path=/robojs/logger"},l="\ud83d\udcdd Logger",t={id:"robojs/logger",title:"\ud83d\udcdd Logger",description:"Effective logging is key to understanding and debugging your Robo.js projects. While you can use JavaScript's native console.log, Robo.js offers a more advanced logger object for enhanced logging capabilities.",source:"@site/docs/robojs/logger.md",sourceDirName:"robojs",slug:"/robojs/logger",permalink:"/robojs/logger",draft:!1,unlisted:!1,editUrl:"https://github.com/Wave-Play/robo.js/edit/main/docs/docs/robojs/logger.md",tags:[],version:"current",lastUpdatedBy:"Pkmmte Xeleon",lastUpdatedAt:1715232348e3,frontMatter:{image:"https://preview.robojs.dev?path=/robojs/logger"},sidebar:"tutorialSidebar",previous:{title:"\ud83d\udc85 Linting",permalink:"/robojs/linting"},next:{title:"\ud83c\udfad Mode",permalink:"/robojs/mode"}},a={},g=[{value:"Using the Logger \ud83d\udcea",id:"using-the-logger-",level:2},{value:"Creating a Logger \ud83e\udeb5",id:"creating-a-logger-",level:2},{value:"Logging Messages \u270d\ufe0f",id:"logging-messages-\ufe0f",level:2},{value:"Log Levels \ud83c\udf9a\ufe0f",id:"log-levels-\ufe0f",level:2},{value:"The default level is <code>info</code>.",id:"the-default-level-is-info",level:4},{value:"Changing Log Level",id:"changing-log-level",level:3},{value:"Creating Child Loggers \ud83d\udc23",id:"creating-child-loggers-",level:2},{value:"Flushing Logs \ud83d\udebd",id:"flushing-logs-",level:2},{value:"Get Recent Logs \ud83d\udce1",id:"get-recent-logs-",level:2},{value:"Custom Drains",id:"custom-drains",level:2},{value:"Setting a Custom Drain",id:"setting-a-custom-drain",level:3},{value:"Optimized Logging for Robo.js",id:"optimized-logging-for-robojs",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"-logger",children:"\ud83d\udcdd Logger"}),"\n",(0,r.jsxs)(n.p,{children:["Effective logging is key to understanding and debugging your Robo.js projects. While you can use JavaScript's native ",(0,r.jsx)(n.code,{children:"console.log"}),", Robo.js offers a more advanced ",(0,r.jsx)(n.code,{children:"logger"})," object for enhanced logging capabilities."]}),"\n",(0,r.jsx)(n.admonition,{title:"Overview",type:"tip",children:(0,r.jsxs)(n.p,{children:["Logs created using logger are not only prettified but also offer additional benefits like custom log levels, custom drains, and integration with your Robo's ",(0,r.jsx)(n.code,{children:"/dev"})," commands and error replies."]})}),"\n",(0,r.jsx)(n.h2,{id:"using-the-logger-",children:"Using the Logger \ud83d\udcea"}),"\n",(0,r.jsx)(n.p,{children:"The logger is available as a global object in your Robo.js project:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import { logger } from 'robo.js'\n\nlogger.info('Hello World!')\n"})}),"\n",(0,r.jsx)(n.h2,{id:"creating-a-logger-",children:"Creating a Logger \ud83e\udeb5"}),"\n",(0,r.jsx)(n.p,{children:"Create a new Logger instance:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import { Logger } from 'robo.js'\n\nconst customLogger = new Logger()\n"})}),"\n",(0,r.jsx)(n.p,{children:"You can pass configuration options during instantiation:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",metastring:"{2-4}",children:"const customLogger = new Logger({\n\tlevel: 'debug', // Set log level\n\tprefix: 'DiscordLogger', // Prefix For Logs\n\tmaxEntries: 200 // Default: 100\n})\n"})}),"\n",(0,r.jsx)(n.admonition,{title:"Warning",type:"caution",children:(0,r.jsxs)(n.p,{children:["We do not recommend creating your own own Logger instance. Instead, use the default ",(0,r.jsx)(n.code,{children:"logger"})," instance provided by Robo.js."]})}),"\n",(0,r.jsx)(n.h2,{id:"logging-messages-\ufe0f",children:"Logging Messages \u270d\ufe0f"}),"\n",(0,r.jsx)(n.p,{children:"The Logger provides various log methods to log messages at different levels:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"logger.debug('Debugging message')\nlogger.info('Info message')\nlogger.warn('Warning message')\nlogger.error('Error message')\nlogger.other('3rd Party message')\nlogger.event('Event Patched message')\n"})}),"\n",(0,r.jsx)(n.p,{children:"The log level determines which messages get logged."}),"\n",(0,r.jsx)(n.h2,{id:"log-levels-\ufe0f",children:"Log Levels \ud83c\udf9a\ufe0f"}),"\n",(0,r.jsx)(n.p,{children:"The available log levels are:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"trace"})," - Very ",(0,r.jsx)(n.strong,{children:"detailed"})," debugging messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"debug"})," - ",(0,r.jsx)(n.strong,{children:"Debugging"})," messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"info"})," - ",(0,r.jsx)(n.strong,{children:"Informational"})," messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"warn"})," - ",(0,r.jsx)(n.strong,{children:"Warning"})," messages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"error"})," - ",(0,r.jsx)(n.strong,{children:"Error"})," messages"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.h4,{id:"the-default-level-is-info",children:["The default level is ",(0,r.jsx)(n.code,{children:"info"}),"."]})}),"\n",(0,r.jsx)(n.h3,{id:"changing-log-level",children:"Changing Log Level"}),"\n",(0,r.jsx)(n.p,{children:"Change the log level dynamically:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"logger.level = 'debug' // Enable debug logs\n"})}),"\n",(0,r.jsx)(n.h2,{id:"creating-child-loggers-",children:"Creating Child Loggers \ud83d\udc23"}),"\n",(0,r.jsxs)(n.p,{children:["You can create namespaced child loggers using ",(0,r.jsx)(n.code,{children:"logger.fork()"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",metastring:"{1}",children:"const dbLogger = logger.fork('database')\ndbLogger.info('Connection Initiated!')\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:'This prefixes all logs with "database"'})}),"\n",(0,r.jsx)(n.p,{children:"This is especially useful in plugins or modules where you want to identify the source of the log easily."}),"\n",(0,r.jsx)(n.h2,{id:"flushing-logs-",children:"Flushing Logs \ud83d\udebd"}),"\n",(0,r.jsx)(n.p,{children:"You can manually flush pending logs:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"await logger.flush()\n"})}),"\n",(0,r.jsx)(n.p,{children:"This ensures all buffered log writes finish before proceeding."}),"\n",(0,r.jsx)(n.h2,{id:"get-recent-logs-",children:"Get Recent Logs \ud83d\udce1"}),"\n",(0,r.jsx)(n.p,{children:"Retrieve an array of recent log entries from the logger's buffer."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const recentLogs = logger.getRecentLogs()\n"})}),"\n",(0,r.jsxs)(n.admonition,{title:"How Much?",type:"info",children:[(0,r.jsxs)(n.p,{children:["You can also specify the number of recent logs to retrieve by passing the ",(0,r.jsx)(n.code,{children:"count"})," parameter:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const recent20Logs = logger.getRecentLogs(20) // Default: 50\n"})}),(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"This allows you to customize the length of the retrieved log entries, providing flexibility based on your debugging and analysis needs."})})]}),"\n",(0,r.jsx)(n.h2,{id:"custom-drains",children:"Custom Drains"}),"\n",(0,r.jsx)(n.p,{children:"A unique feature of the Robo.js logger is the ability to define custom drains. A drain is essentially a target where your logs are sent. By default, logs are sent to the console, but you can configure custom drains to redirect them to external logging services or files."}),"\n",(0,r.jsx)(n.admonition,{title:"Plugin Available",type:"tip",children:(0,r.jsxs)(n.p,{children:["Our official plugin ",(0,r.jsx)(n.a,{href:"https://github.com/Wave-Play/robo.js/tree/main/packages/plugin-better-stack",children:(0,r.jsx)(n.code,{children:"@roboplay/plugin-better-stack"})})," forwards logs to ",(0,r.jsx)(n.a,{href:"https://betterstack.com/logs",children:"Better Stack Logs"})," for a more user-friendly interface and efficient log searching."]})}),"\n",(0,r.jsx)(n.h3,{id:"setting-a-custom-drain",children:"Setting a Custom Drain"}),"\n",(0,r.jsxs)(n.p,{children:["You can set a new log drain using the ",(0,r.jsx)(n.code,{children:"setDrain()"})," function or by specifying it in the logger configuration."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Method 1: Using ",(0,r.jsx)(n.code,{children:"setDrain()"})," Function"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import { logger } from 'robo.js'\n\nfunction customDrain(logger, level, ...data) {\n\t// Your custom drain logic\n}\n\nlogger.setDrain(customDrain)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Method 2: Specifying in the Logger Constructor"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"import { Logger } from 'robo.js'\n\nconst logger = new Logger({\n\tdrain: customDrain\n})\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Method 3: In the ",(0,r.jsx)(n.code,{children:"robo.mjs"})," Configuration"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// robo.mjs\nexport default {\n\tlogger: {\n\t\tdrain: customDrain\n\t}\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"The default drain function looks like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"function consoleDrain(logger, level, ...data) {\n\t// Default drain logic\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"optimized-logging-for-robojs",children:"Optimized Logging for Robo.js"}),"\n",(0,r.jsx)(n.p,{children:"Robo.js's logger is optimized for asynchronous operation, ensuring better performance and reliability. It writes logs in parallel and maintains a flush queue to ensure all logs are written, even if the Robo crashes. This optimization is crucial for capturing every detail of your Robo's operation, especially in critical situations."}),"\n",(0,r.jsxs)(n.p,{children:["Additionally, logs from the logger are integrated into the ",(0,r.jsx)(n.code,{children:"/dev logs"})," command and error replies, enabling in-Discord debugging. This feature allows for efficient troubleshooting without the need to switch between different environments."]})]})}function d(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},5251:(e,n,o)=>{var r=o(7294),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,t=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function g(e,n,o){var r,i={},g=null,c=null;for(r in void 0!==o&&(g=""+o),void 0!==n.key&&(g=""+n.key),void 0!==n.ref&&(c=n.ref),n)l.call(n,r)&&!a.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===i[r]&&(i[r]=n[r]);return{$$typeof:s,type:e,key:g,ref:c,props:i,_owner:t.current}}n.Fragment=i,n.jsx=g,n.jsxs=g},5893:(e,n,o)=>{e.exports=o(5251)},1151:(e,n,o)=>{o.d(n,{Z:()=>t,a:()=>l});var r=o(7294);const s={},i=r.createContext(s);function l(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);