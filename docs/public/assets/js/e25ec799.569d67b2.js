"use strict";(self.webpackChunkrobo_js_docs=self.webpackChunkrobo_js_docs||[]).push([[4388],{8027:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});var s=i(4848),o=i(8453);const l={image:"https://preview.robojs.dev?path=/robojs/config"},t="\ud83d\udee0\ufe0f Configuration",r={id:"robojs/config",title:"\ud83d\udee0\ufe0f Configuration",description:"Customizing Robo.js to fit your needs is a piece of cake! \ud83c\udf70 This guide will walk you through tweaking defaults, adding new intents, specifying permissions, changing sage mode behavior, and more.",source:"@site/docs/robojs/config.md",sourceDirName:"robojs",slug:"/robojs/config",permalink:"/robojs/config",draft:!1,unlisted:!1,editUrl:"https://github.com/Wave-Play/robo.js/edit/main/docs/docs/robojs/config.md",tags:[],version:"current",lastUpdatedBy:"Pkmmte Xeleon",lastUpdatedAt:1719817204e3,frontMatter:{image:"https://preview.robojs.dev?path=/robojs/config"},sidebar:"tutorialSidebar",previous:{title:"\u2728 Overview",permalink:"/robojs/overview"},next:{title:"\u26a1 Flashcore Database",permalink:"/robojs/flashcore"}},d={},c=[{value:"Example configuration",id:"example-configuration",level:2},{value:"What it means",id:"what-it-means",level:2},{value:"<code>clientOptions</code>",id:"clientoptions",level:3},{value:"<code>defaults</code>",id:"defaults",level:3},{value:"<code>excludePaths</code>",id:"excludepaths",level:3},{value:"<code>experimental</code>",id:"experimental",level:3},{value:"<code>invite</code>",id:"invite",level:3},{value:"<code>logger</code>",id:"logger",level:3},{value:"<code>plugins</code>",id:"plugins",level:3},{value:"<code>roboplay</code>",id:"roboplay",level:3},{value:"<code>sage</code>",id:"sage",level:3},{value:"<code>timeouts</code>",id:"timeouts",level:3},{value:"Sensitive data",id:"sensitive-data",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"\ufe0f-configuration",children:"\ud83d\udee0\ufe0f Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Customizing Robo.js to fit your needs is a piece of cake! \ud83c\udf70 This guide will walk you through tweaking defaults, adding new intents, specifying permissions, changing sage mode behavior, and more."}),"\n",(0,s.jsxs)(n.p,{children:["To configure your Robo.js, create a config file named ",(0,s.jsx)(n.code,{children:"robo.mjs"})," in a ",(0,s.jsx)(n.code,{children:"config"})," folder."]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["Alternatively, you can use CommonJS with the name ",(0,s.jsx)(n.code,{children:"robo.cjs"})," or a simpler JSON format as ",(0,s.jsx)(n.code,{children:"robo.json"}),". Using the JSON format is not as robust as JS, but it's a viable choice if you encounter issues with either ",(0,s.jsx)(n.code,{children:".cjs"})," or ",(0,s.jsx)(n.code,{children:".mjs"})," on your web host."]})}),"\n",(0,s.jsx)(n.h2,{id:"example-configuration",children:"Example configuration"}),"\n",(0,s.jsx)(n.p,{children:"You only need to provide configuration for the options you want to change. If you're happy with the default settings, there's no need to include them in your configuration file."}),"\n",(0,s.jsx)(n.p,{children:"Here's an example implementation of a configuration file:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",metastring:'title="config/robo.mjs" showLineNumbers',children:"// @ts-check\n\n/**\n * @type {import('robo.js').Config}\n **/\nexport default {\n\tclientOptions: {\n\t\tintents: ['DirectMessages', 'Guilds', 'GuildMembers', 'GuildMessages', 'GuildVoiceStates', 'MessageContent']\n\t},\n\tlogger: {\n\t\tlevel: 'info'\n\t},\n\tplugins: [],\n\tsage: {\n\t\tdefer: true,\n\t\tdeferBuffer: 2000,\n\t\terrorReplies: false\n\t}\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"what-it-means",children:"What it means"}),"\n",(0,s.jsx)(n.p,{children:"Now, let's break down each config key and their options:"}),"\n",(0,s.jsx)(n.h3,{id:"clientoptions",children:(0,s.jsx)(n.code,{children:"clientOptions"})}),"\n",(0,s.jsx)(n.p,{children:"These are the options passed to the Discord.js client. Use this to specify intents that your Robo.js should handle."}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"clientOptions: {\n  intents: ['DirectMessages', 'Guilds', 'GuildMembers', 'GuildMessages', 'GuildVoiceStates', 'MessageContent'],\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"defaults",children:(0,s.jsx)(n.code,{children:"defaults"})}),"\n",(0,s.jsx)(n.p,{children:"Use this to customize default behavior, like enabling or disabling the help command."}),"\n",(0,s.jsx)(n.p,{children:"Options:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"dev"}),": (boolean) Set to ",(0,s.jsx)(n.code,{children:"false"})," to disable /dev subcommands."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"help"}),": (boolean) Set to ",(0,s.jsx)(n.code,{children:"false"})," to disable the help command."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",metastring:"{2}",children:"defaults: {\n  dev: false,\n  help: false,\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"excludepaths",children:(0,s.jsx)(n.code,{children:"excludePaths"})}),"\n",(0,s.jsx)(n.p,{children:"Got files or directories you don't want to include in the final build? Use excludePaths. Just list the file or directory prefixes you want to exclude, and Robo.js will steer clear of them during the build process."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Use cases:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Keeping test files out of the build."}),"\n",(0,s.jsx)(n.li,{children:"Preventing sensitive files (like config or secrets) from being copied over"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"excludePaths: ['/src/test', '/src/modules/example/statics.json']\n"})}),"\n",(0,s.jsxs)(n.p,{children:["In this example, any file or directory that starts with ",(0,s.jsx)(n.code,{children:"/src/test"})," or ",(0,s.jsx)(n.code,{children:"/src/modules/example/statics.json"})," will be ignored during the build process."]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"This feature works with directory and file prefixes, not glob patterns."})}),"\n",(0,s.jsx)(n.h3,{id:"experimental",children:(0,s.jsx)(n.code,{children:"experimental"})}),"\n",(0,s.jsx)(n.p,{children:"Activate experimental features or revert to older behaviors for compatibility. This field takes an object containing the following optional boolean values:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"buildDirectory"}),": Determine where to compile your code. The default is ",(0,s.jsx)(n.code,{children:".robo/build"}),", but you can specify another location."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"disableBot"}),": Turn off bot features, allowing you to run Robo.js without a bot."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"incrementalBuilds"}),": Enable incremental builds to improve build performance by only recompiling changed files."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"shard"}),": Enable sharding support. Can be ",(0,s.jsx)(n.code,{children:"true"})," or a ",(0,s.jsx)(n.code,{children:"ShardingManagerOptions"})," object."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"userInstall"}),": Optimize command registration for user-installed apps."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"experimental: {\n\tbuildDirectory: 'dist',\n\tdisableBot: true,\n\tincrementalBuilds: true,\n\tshard: true,\n\tuserInstall: true\n}\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["Features toggled through the ",(0,s.jsx)(n.strong,{children:"experimental field"})," may be unstable and are subject to change outside of semver. Use at your own risk."]})}),"\n",(0,s.jsx)(n.h3,{id:"invite",children:(0,s.jsx)(n.code,{children:"invite"})}),"\n",(0,s.jsx)(n.p,{children:"Configure your Robo's invite options."}),"\n",(0,s.jsx)(n.p,{children:"Options:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"permissions"}),": (PermissionsString[] | number) Specify permissions for your Robo."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"scopes"}),": (Scope[]) Specify scopes for your Robo."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"invite: {\n  permissions: ['SEND_MESSAGES', 'MANAGE_MESSAGES'],\n  scopes: ['bot'],\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"logger",children:(0,s.jsx)(n.code,{children:"logger"})}),"\n",(0,s.jsx)(n.p,{children:"Customize your logging preferences."}),"\n",(0,s.jsx)(n.p,{children:"Options:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"enabled"}),": (boolean) Set to ",(0,s.jsx)(n.code,{children:"false"})," to disable logging."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"level"}),": (LogLevel) Specify the log level."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"logger: {\n  enabled: true,\n  level: 'info',\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"plugins",children:(0,s.jsx)(n.code,{children:"plugins"})}),"\n",(0,s.jsx)(n.p,{children:"Specify the plugins you want to use in your Robo. You can add plugins to the configuration in a couple of ways:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Simply use the name of the plugin package as a string."}),"\n",(0,s.jsx)(n.li,{children:"Provide an array with 2 to 3 values: the package name, plugin-specific options, and optional system-wide plugin settings."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"failSafe"})," option ensures that plugin initialization won't crash your Robo, allowing it to still run even if some plugins require something you might not have (e.g., the GPT Plugin's OpenAI Key)."]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"plugins: [gptPlugin, '@roboplay/plugin-poll']\n"})}),"\n",(0,s.jsxs)(n.p,{children:["In the example above, ",(0,s.jsx)(n.code,{children:"gptPlugin"})," is an array containing the package name, plugin-specific options, and optional system-wide plugin settings. The ",(0,s.jsx)(n.code,{children:"@roboplay/plugin-poll"})," is added as a string, using the default settings for that plugin."]}),"\n",(0,s.jsxs)(n.p,{children:["For more details about plugins and their options, check out the ",(0,s.jsx)(n.a,{href:"/docs/advanced/plugins",children:"Plugins"})," guide."]}),"\n",(0,s.jsx)(n.h3,{id:"roboplay",children:(0,s.jsx)(n.code,{children:"roboplay"})}),"\n",(0,s.jsx)(n.p,{children:"Customize RoboPlay-specific options, like picking the Node.js version to use."}),"\n",(0,s.jsx)(n.p,{children:"Options:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"node"}),": ('18' | '20' | 'latest') Select the Node.js version to use."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"roboplay: {\n  node: 'latest',\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"sage",children:(0,s.jsx)(n.code,{children:"sage"})}),"\n",(0,s.jsx)(n.p,{children:"Tweak the behavior of sage mode to suit your preferences."}),"\n",(0,s.jsx)(n.p,{children:"Options:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"defer"}),": (boolean) Set to ",(0,s.jsx)(n.code,{children:"true"})," to defer the command until it's ready to be executed."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"deferBuffer"}),": (number) The buffer time in milliseconds before a deferred command is executed."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ephemeral"}),": (boolean) Set to ",(0,s.jsx)(n.code,{children:"true"})," to make the command's response ephemeral (visible only to the user who invoked the command)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"errorReplies"}),": (boolean) Set to ",(0,s.jsx)(n.code,{children:"true"})," to enable error replies for commands that fail."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"sage: {\n  defer: true,\n  deferBuffer: 2000,\n  ephemeral: false,\n  errorReplies: false,\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"timeouts",children:(0,s.jsx)(n.code,{children:"timeouts"})}),"\n",(0,s.jsx)(n.p,{children:"Set custom timeout values for various operations in your Robo. This is useful for enforcing stricter limits than the default."}),"\n",(0,s.jsx)(n.p,{children:"Options:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"command"}),": (number) The timeout in milliseconds for command execution."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"interaction"}),": (number) The timeout in milliseconds for interaction handling."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"timeouts: {\n  command: 5000,\n  interaction: 5000,\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"sensitive-data",children:"Sensitive data"}),"\n",(0,s.jsxs)(n.p,{children:["\u26a0\ufe0f ",(0,s.jsx)(n.strong,{children:"Heads up:"})," Keep sensitive data like API keys or tokens out of your configuration file. Instead, use a ",(0,s.jsx)(n.code,{children:".env"})," file to store secrets and refer to them with ",(0,s.jsx)(n.code,{children:"process.env"}),". Configuration files are meant to be pushed to version control (git), while secrets inside ",(0,s.jsx)(n.code,{children:".env"})," should stay off-limits."]}),"\n",(0,s.jsxs)(n.p,{children:["Take a look at the ",(0,s.jsx)(n.a,{href:"/docs/basics/secrets",children:"Secrets guide"})," for more info."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>r});var s=i(6540);const o={},l=s.createContext(o);function t(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);